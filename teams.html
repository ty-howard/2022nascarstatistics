<html>
    <head>
        <title>2022 Team Data</title>
        <link rel="stylesheet" type="text/css" href="test.css" />
        <script type="text/javascript" src="https://d3js.org/d3.v4.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
    </head>
    <body class="teams">
        <h1>
            <a href="./index.html">2022 NASCAR Team Data</a>
        </h1>

        <ul>
          <li><a href="./drivers.html">DRIVERS</a></li>
          <li><a href="./playoffs.html">PLAYOFFS</a></li>
          <li><a href="./teams.html">TEAMS</a></li>
          <li><a href="./mans.html">MANUFACTURERS</a></li>
        </ul>
        <hr>
        <div id="teams" style="display:block; margin-left:auto; margin-right:auto; width:75%">
        <script>
          var canvas = document.getElementById('test');
          var chartwidth = 900;
          var chartheight = 400;
          var margin = 30;
          var maxx = 36; 
          var maxy = 12; 
          var points = [["Hendrick","Larson","1","1"],["Hendrick","Elliott","3","2"],["Hendrick","Larson","4","3"],["Hendrick","Bowman","7","4"],
                        ["Gibbs","Truex Jr.","8","3"],["Gibbs","Truex Jr.","2","1"],["Gibbs","Truex Jr.","5","2"],
                        ["Penske","Blaney","6","1"],["Penske","Blaney","9","2"],["Penske","Blaney","11","4"],["Penske","Blaney","12","5"],["Penske","Logano","10","3"]]; 
          // Scatter plot example
          d3.select("body")
            .append("svg")
            .attr("id","scatter")
            .attr("width", chartwidth + 2 * margin )
            .attr("height", chartheight + 2 * margin )
            .append("g")
            // axisDirection - direction is where the labels/tick marks on the axis will be
            // domain = values for the tick marks (e.g. x or y values)
            // range = span within the element for the axis to use
            .call(d3.axisBottom(d3.scaleLinear().domain([0,maxx]).range([0,chartwidth])))
            .attr("transform","translate(" + margin + "," + (chartheight + margin) + ")");
          d3.select("#scatter")
            .append("g")
            .call(d3.axisLeft(d3.scaleLinear().domain([0,maxy]).range([chartheight,0])))
            .attr("transform","translate(" + margin + "," + margin + ")");
          d3.select("#scatter")
            .selectAll()
            .data(points)
            .enter()
            .append("circle")
            // area of a circle = pi * r^2, we need to use the value for the area to have 
            // meaningful comparison. NOTE 5 is just a constant scaling factor due to the size of the values
            .attr("r",8)
            .attr("cx", function(d) { return d[2] * chartwidth / maxx + margin; } )
            .attr("cy", function(d) { return chartheight + margin - d[3] * chartheight / maxy; } )
            .style("fill", function(d) {
                                  if( d[0] == "Hendrick" ) return "red";
                                  else if (d[0] == "Gibbs" ) return "orange";
                                  else if (d[0] == "Penske" ) return "yellow";
                                  else return "gray"; } )
            .append("title")
            .text(function(d) { return "Team: " + d[0] + "\nDriver: " + d[1] + "\nRace: " + d[2] + "\nWin Number: " + d[3]; } );
        d3.select("body")
          .append("svg")
          .attr("id","plotlegend")
          .attr("height", chartheight + 2 * margin )
          .attr("width", 800);



        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",10)
          .attr("cy",25)
          .style("fill","red");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",210)
          .attr("cy",25)
          .style("fill","orange");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",325)
          .attr("cy",25)
          .style("fill","yellow");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",450)
          .attr("cy",25)
          .style("fill","green");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",575)
          .attr("cy",25)
          .style("fill","blue");

        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",75)
          .attr("cy",65)
          .style("fill","indigo");
          d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",200)
          .attr("cy",65)
          .style("fill","black");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",325)
          .attr("cy",65)
          .style("fill","silver");
        d3.select("#plotlegend")
          .append("circle")
          .attr("r",8)
          .attr("cx",450)
          .attr("cy",65)
          .style("fill","gold");



        d3.select("#plotlegend")
          .append("text")
          .attr("x",25)
          .attr("y",30)
          .text("Hendrick Motorsports");
        d3.select("#plotlegend")
          .append("text")
          .attr("x",230)
          .attr("y",30)
          .text("Joe Gibbs Racing");
        d3.select("#plotlegend")
          .append("text")
          .attr("x",60)
          .attr("y",50)
          .text("Trackhouse Racing")
        d3.select("#plotlegend")
          .append("text")
          .attr("x",60)
          .attr("y",50)
          .text("Stewart-Haas Racing")
        </script>
        </div>
        <hr>
        <p >Data Collected From: <a href="https://www.driveraverages.com/" target="_blank" rel="noopener noreferrer">DriverAverages.com</a></p>
    </body>
</html>